<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Selection Filter</title>
  </head>
  <body>
    <form id="selection-filters" method="post" action="#">
      <select id="animal-classifications">
        <option value="Classifications" selected>Classifications</option>
        <option value="Vertebrate">Vertebrate</option>
        <option value="Warm-blooded">Warm-blooded</option>
        <option value="Cold-blooded">Cold-blooded</option>
        <option value="Mammal">Mammal</option>
        <option value="Bird">Bird</option>
      </select>
      <select id="animals">
        <option value="Animals" selected>Animals</option>
        <option value="Bear">Bear</option>
        <option value="Turtle">Turtle</option>
        <option value="Whale">Whale</option>
        <option value="Salmon">Salmon</option>
        <option value="Ostrich">Ostrich</option>    
      </select>
      <button id="clear">Clear</button>  
    </form>
    <script type="text/javascript">
      const animalAndClass = {
        Vertebrate: ['Bear', 'Turtle', 'Salmon', 'Whale', 'Ostrich'],
        'Warm-blooded': ['Bear', 'Whale', 'Ostrich'],
        'Cold-blooded': ['Salmon', 'Turtle'],
        Mammal: ['Bear', 'Whale'],
        Bird: ['Ostrich']
      }

      const animals = {
        Bear: ['Vertebrate', 'Warm-blooded', 'Mammal'],
        Turtle: ['Vertebrate', 'Cold-blooded'],
        Whale: ['Vertebrate', 'Warm-blooded', 'Mammal'],
        Salmon: ['Vertebrate', 'Cold-blooded'],
        Ostrich: ['Vertebrate', 'Warm-blooded', 'Bird']
      }

      const animalClassifications = document.querySelector('#animal-classifications'); // classifications
      const animalNames = document.querySelector('#animals'); // animal list
      const clearBtn = document.querySelector('#clear');

      function addOptions(selectEle, options) {
        options.forEach(option => {
          selectEle.add(new Option(option, option));
        })
      }

      function removeOptions(selectElement) {
        while (selectElement.options.length > 0) {
          selectElement.remove(0);
        }
      }

      function setDefaults() {
        removeOptions[animalClassifications];
        removeOptions[animalNames];
        
        animalClassifications.add(new Option('Classification', 'Classification'));
        animalNames.add(new Option('Animals', 'Animals'));

        addOptions(animalClassifications, defaultOptions['Classifications']);
        addOptions(animalNames, defaultOptions['Animals']);
      }

      animalClassifications.addEventListener("change", event => {
        let classification = event.target.value;
        removeOptions(animalNames);
        addOptions(animalNames, animalAndClass[classification]);
      });

      animalNames.addEventListener("change", event => {
        event.stopPropagation();
        let animal = event.target.value;
        removeOptions(animalClassifications);
        addOptions(animalClassifications, animals[animal]);
      });

      clearBtn.addEventListener('click', event => {
        event.preventDefault();
        setDefaults();
      });
    </script>
  </body>
</html>